#sweep.yaml
program: sweep.py
project: PolypHydraMonai

method: bayes
metric:
  name: val_dice
  goal: maximize

parameters:
  training.optimizer.lr:
    min: 0.00001
    max: 0.01
  training.optimizer._target_:
    values: ["torch.optim.Adam", "torch.optim.SGD", "torch.optim.AdamW"]
  data.train.batch_size:
    values: [2, 4, 6]
  training.trainer.precision:
    values: [16, 32]
  data.train.num_workers:
    values: [4, 6, 8]
  training.trainer.max_epochs:
    value: 5

command:
  - ${env}
  - python
  - ${program}
  - wandb_logging.enabled=true
  - ${args_no_hyphens}

run_cap: 7